class AuthController {
    constructor(authService, userProfileService) {
        this.authService = authService;
        this.userProfileService = userProfileService;
    }

    async authenticate(loginRequestDto) {
        const ssotoken = await this.authService.authenticate(loginRequestDto);
        return ssotoken;
    }

    async login(loginRequestDto) {
        const ssotoken = await this.authenticate(loginRequestDto);
        if (!ssotoken) {
            throw new Error("Login failed: User authentication failed");
        }

        const response = await this.userProfileService.getUserProfile(ssotoken);
        return response;
    }
}

export default AuthController;
